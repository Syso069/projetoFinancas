<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finanças</title>
</head>
<body>
    <script>

        function calcularJuros(valor) {
            juros = arrendondar(valor * 0.10)
            return juros
        }

        function calcularRendimentos(valor) {
            rendimentos = arrendondar(valor * 0.005)
            return rendimentos
        }

        function calcularSaldo(saldoInicial, lancamentos) {
            saldo = saldoInicial

            for(lancamento of lancamentos) {
                if (lancamento.tipo === 'receita') {
                    saldo += lancamento.valor
                } else {
                    saldo -= lancamento.valor
                }
            }

            if(saldo < 0){
                juro = calcularJuros(saldo)
                console.log('Seu juros são de:',juros, 'dando um total de:', arrendondar(saldo += juros))
            }else {
                rendimentos = calcularRendimentos(saldo)
                console.log('Seus provendos são de:',rendimentos, 'dando um total de:',  arrendondar(saldo += rendimentos))
            }
            return saldo
        }

        function arrendondar(valor) {
            return Math.round(valor * 100) / 100
        }

        saldoInicial = 0
        lancamentoJaneiro = [
        {categoria: 'Salário', tipo: 'receita', valor: 800}, 
        {categoria: 'Reserva', tipo: 'despesa', valor: 100}, 
        {categoria: 'FIIs', tipo: 'despesa', valor: 50}, 
        {categoria: 'Transporte', tipo: 'despesa', valor: 200}, 
        {categoria: 'Lazer', tipo: 'despesa', valor: 100}, 
        {categoria: 'Cartão', tipo: 'despesa', valor: 80}
        ]
        saldo1 = calcularSaldo(saldoInicial, lancamentoJaneiro)

        lancamentoFevereiro = [
        {categoria: 'Salário', tipo: 'receita', valor: 800}, 
        {categoria: 'Reserva', tipo: 'despesa', valor: 150}, 
        {categoria: 'FIIs', tipo: 'despesa', valor: 100},
        {categoria: 'Transporte', tipo: 'despesa', valor: 300}, 
        {categoria: 'Lazer', tipo: 'despesa', valor: 100}, 
        {categoria: 'Cartão', tipo: 'despesa', valor: 450}
        ]
        saldo2 = calcularSaldo(saldo1, lancamentoFevereiro )

        lancamentoMarco = [
        {categoria: 'Salário', tipo: 'receita', valor: 1000}, 
        {categoria: 'Reserva', tipo: 'despesa', valor: 150}, 
        {categoria: 'FIIs', tipo: 'despesa', valor: 100}, 
        {categoria: 'Transporte', tipo: 'despesa', valor: 200}, 
        {categoria: 'Lazer', tipo: 'despesa', valor: 100},
        {categoria: 'Cartão', tipo: 'despesa', valor: 150},
        {categoria: 'Nintendo Switch', tipo: 'despesa', valor: 250}
        ]
        saldo3 = calcularSaldo(saldo2, lancamentoMarco)

        console.log('ACUMULO DO ANO')
        acumuloAno = arrendondar(saldo3)
        console.log('O acumulo do ano foi:', acumuloAno)

    </script>
</body>
</html>